{"version":3,"sources":["webpack:///webpack/bootstrap b7a7de3bd0b71527a2b6","webpack:///./public/minimap/main.js","webpack:///./public/minimap/stores/location.js","webpack:///./public/minimap/stores/stateroom.js","webpack:///./public/minimap/helpers/stateroom.js","webpack:///./public/minimap/helpers/emitter.js","webpack:///./public/minimap/components/qrcode/index.js","webpack:///./public/minimap/components/qrcode/style.css?f240","webpack:///./public/minimap/components/qrcode/style.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./public/minimap/dispatcher.js","webpack:///./public/minimap/actions/qr-tray.js","webpack:///./public/minimap/stores/qr-code-tray.js","webpack:///./public/minimap/helpers/store.js","webpack:///./public/minimap/helpers/qrcode.min.js","webpack:///./public/minimap/helpers/sprint.js","webpack:///./public/minimap/components/modal-tray.js","webpack:///./public/minimap/components/icontray/index.js","webpack:///./public/minimap/components/icontray/style.css?697b","webpack:///./public/minimap/components/icontray/style.css","webpack:///./public/minimap/actions/self-icon-selected.js","webpack:///./public/minimap/actions/icon-tray.js","webpack:///./public/minimap/stores/icon-selection-tray.js","webpack:///./public/minimap/helpers/mapstore.js","webpack:///./public/minimap/stores/config.js","webpack:///./public/minimap/components/minimap.js","webpack:///./public/minimap/actions/tracking-self.js","webpack:///./public/minimap/stores/users.js","webpack:///./public/minimap/stores/map.js","webpack:///./public/minimap/components/trackbutton.js","webpack:///./public/minimap/components/qrbutton.js","webpack:///./public/minimap/components/iconbutton.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;;;;;;ACTA;;;AAGA,eAAc;;;AAGd;AACA;AACA,EAAC;AACD;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC;;;AAGD;;;AAGA;AACA;AACA;;AAEA;AACA;;;;;;;AChCA;;;AAGA;;AAEA;AACA;;;AAGA;;;;;;;ACTA;;;AAGA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE,OAAO;AACT;AACA;AACA,mBAAkB;AAClB;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;;;;;;;ACvKA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;;;AAGA;;;;;;;ACrDA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA,gDAAyF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,oCAAmC,iBAAiB,kBAAkB,wBAAwB,GAAG;;AAEjG;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;AC1NA;;;AAGA;;AAEA,2BAA0B;;;AAG1B;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;AACA;AACA;;;;;;;ACnBA;;;AAGA;AACA,UAAS;AACT;;;AAGA;;;;;;;ACRA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;AAGD;;;;;;;ACxBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;;AAGA;;;;;;;ACxBA,YAAW,YAAY,cAAc,0DAA0D,oCAAoC,IAAI,KAAK,8BAA8B,mQAAmQ,mIAAmI,gBAAgB,qHAAqH,gBAAgB,oDAAoD,YAAY,oBAAoB,KAAK,iCAAiC,YAAY,aAAa,uBAAuB,gBAAgB,mCAAmC,aAAa,6BAA6B,aAAa,mDAAmD,aAAa,+BAA+B,6HAA6H,gBAAgB,kCAAkC,KAAK,KAAK,QAAQ,UAAU,mBAAmB,MAAM,mBAAmB,MAAM,mBAAmB,MAAM,mBAAmB,cAAc,IAAI,+CAA+C,SAAS,cAAc,qDAAqD,EAAE,QAAQ,kCAAkC,aAAa,qBAAqB,8BAA8B,mBAAmB,qCAAqC,IAAI,iCAAiC,cAAc,oBAAoB,eAAe,0CAA0C,sBAAsB,+EAA+E,0BAA0B,2BAA2B,wBAAwB,iBAAiB,4CAA4C,wBAAwB,+EAA+E,YAAY,mBAAmB,KAAK,4CAA4C,YAAY,mBAAmB,4BAA4B,uZAAuZ,yCAAyC,aAAa,KAAK,sDAAsD,KAAK,8IAA8I,+BAA+B,oBAAoB,IAAI,KAAK,oBAAoB,2BAA2B,uBAAuB,SAAS,iCAAiC,sCAAsC,YAAY,YAAY,sBAAsB,sBAAsB,yBAAyB,KAAK,+BAA+B,oGAAoG,SAAS,+BAA+B,YAAY,qBAAqB,0DAA0D,YAAY,qBAAqB,0DAA0D,uCAAuC,oDAAoD,WAAW,gBAAgB,WAAW,KAAK,kBAAkB,yCAAyC,KAAK,iBAAiB,KAAK,uEAAuE,6BAA6B,kDAAkD,KAAK,KAAK,sBAAsB,0DAA0D,YAAY,KAAK,KAAK,sBAAsB,2DAA2D,6BAA6B,gEAAgE,KAAK,KAAK,sBAAsB,6FAA6F,YAAY,KAAK,KAAK,sBAAsB,sGAAsG,uCAAuC,uBAAuB,+DAA+D,IAAI,oBAAoB,EAAE,YAAY,IAAI,mCAAmC,SAAS,gCAAgC,yBAAyB,sDAAsD,kCAAkC,UAAU,SAAS,mDAAmD,yCAAyC,WAAW,KAAK,WAAW,4EAA4E,gBAAgB,WAAW,sBAAsB,sGAAsG,2CAA2C,yBAAyB,cAAc,MAAM,EAAE,kCAAkC,kDAAkD,gBAAgB,0BAA0B,6BAA6B,oEAAoE,WAAW,KAAK,yCAAyC,kDAAkD,YAAY,cAAc,8BAA8B,KAAK,8EAA8E,gCAAgC,YAAY,cAAc,KAAK,kCAAkC,yBAAyB,gBAAgB,WAAW,uBAAuB,+BAA+B,IAAI,gBAAgB,WAAW,oCAAoC,YAAY,IAAI,gBAAgB,WAAW,oCAAoC,UAAU,WAAW,6DAA6D,IAAI,gBAAgB,IAAI,wGAAwG,IAAI,yrBAAyrB,gBAAgB,yCAAyC,iDAAiD,2BAA2B,8BAA8B,gBAAgB,yCAAyC,iDAAiD,eAAe,yBAAyB,YAAY,KAAK,YAAY,SAAS,gCAAgC,qCAAqC,yBAAyB,UAAU,oCAAoC,gCAAgC,gCAAgC,oCAAoC,gEAAgE,wCAAwC,4CAA4C,8CAA8C,+CAA+C,uCAAuC,2BAA2B,IAAI,yCAAyC,SAAS,+BAA+B,wBAAwB,6BAA6B,+BAA+B,+BAA+B,2BAA2B,mCAAmC,uBAAuB,6BAA6B,gCAAgC,gCAAgC,4BAA4B,mCAAmC,KAAK,sCAAsC,UAAU,6BAA6B,gCAAgC,gCAAgC,4BAA4B,qCAAqC,0BAA0B,qCAAqC,IAAI,gBAAgB,IAAI,KAAK,iCAAiC,KAAK,qCAAqC,KAAK,2DAA2D,gBAAgB,YAAY,MAAM,gBAAgB,MAAM,KAAK,QAAQ,yGAAyG,YAAY,IAAI,gBAAgB,MAAM,mIAAmI,YAAY,IAAI,gBAAgB,MAAM,mIAAmI,gBAAgB,IAAI,gBAAgB,IAAI,uBAAuB,+BAA+B,gBAAgB,IAAI,iBAAiB,sCAAsC,sBAAsB,kBAAkB,KAAK,IAAI,QAAQ,KAAK,OAAO,QAAQ,sBAAsB,mDAAmD,KAAK,IAAI,wBAAwB,YAAY,MAAM,uFAAuF,YAAY,MAAM,kCAAkC,aAAa,gBAAgB,mBAAmB,sBAAsB,uBAAuB,sBAAsB,0DAA0D,mBAAmB,gBAAgB,gBAAgB,yDAAyD,kBAAkB,iBAAiB,gDAAgD,iFAAiF,mBAAmB,qBAAqB,YAAY,gBAAgB,qCAAqC,0BAA0B,m1FAAm1F,6BAA6B,qFAAqF,8BAA8B,IAAI,iDAAiD,IAAI,uBAAuB,SAAS,iCAAiC,UAAU,4CAA4C,4CAA4C,4CAA4C,4CAA4C,uBAAuB,cAAc,gBAAgB,sBAAsB,qCAAqC,mBAAmB,YAAY,IAAI,kCAAkC,4BAA4B,mBAAmB,oBAAoB,gCAAgC,oGAAoG,4vBAA4vB,oBAAoB,6BAA6B,oCAAoC,gBAAgB,+DAA+D,2DAA2D,SAAS,qDAAqD,0DAA0D,eAAe,oFAAoF,EAAE,wIAAwI,oDAAoD,GAAG,YAAY,IAAI,gBAAgB,IAAI,sBAAsB,eAAe,wBAAwB,EAAE,sFAAsF,8BAA8B,KAAK,yBAAyB,0CAA0C,GAAG,iFAAiF,aAAa,gIAAgI,gBAAgB,WAAW,uDAAuD,iDAAiD,+CAA+C,cAAc,wDAAwD,gEAAgE,oIAAoI,6GAA6G,sCAAsC,+EAA+E,uEAAuE,wEAAwE,KAAK,gCAAgC,6FAA6F,yBAAyB,oBAAoB,8ZAA8Z,oCAAoC,oIAAoI,oCAAoC,YAAY,IAAI,gBAAgB,IAAI,KAAK,gCAAgC,wNAAwN,oBAAoB,kCAAkC,iCAAiC,kCAAkC,wBAAwB,8BAA8B,6FAA6F,+BAA+B,iCAAiC,GAAG,cAAc,oBAAoB,6BAA6B,oCAAoC,qIAAqI,yBAAyB,SAAS,IAAI,KAAK,eAAe,YAAY,IAAI,gCAAgC,yBAAyB,UAAU,SAAS,cAAc,eAAe,8DAA8D,UAAU,gBAAgB,0CAA0C,gFAAgF,0CAA0C,8BAA8B,sBAAsB,GAAG,GAAG,qBAAqB,mBAAmB,4FAA4F,yBAAyB,OAAO,0CAA0C,yMAAyM,uCAAuC,qMAAqM,uCAAuC,4GAA4G,mCAAmC,uBAAuB,uBAAuB,GAAG;;;;;;;ACAv9mB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,eAAe;AAClC;AACA;AACA;;AAEA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,oBAAmB,YAAY;AAC/B;AACA;;AAEA,sBAAqB,cAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,YAAY;AACnC;AACA;AACA;AACA,4BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,mCAAkC,gDAAgD;AAClF;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,kBAAkB;AAC3C;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,iBAAiB;AAC1C;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,YAAY;AACnC,0BAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA;AACA,0BAAyB,YAAY;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;;AAEA,eAAc,iBAAiB;AAC/B;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,0BAAyB,cAAc;AACvC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,mBAAmB;AAC5C;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC53CD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;;;AAGA;AACA;AACA;AACA,kBAAiB,gCAAgC;AACjD;AACA,GAAE;;AAEF;AACA;;;;;;;ACtCA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAU,SAAS;AACnB;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;;;;;;AC5FA;;AAEA;AACA;AACA;AACA;AACA,gDAAyF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,sCAAqC,qBAAqB,uBAAuB,wBAAwB,GAAG,qBAAqB,0BAA0B,oBAAoB,sBAAsB,GAAG,8BAA8B,2BAA2B,GAAG;;AAEpQ;;;;;;;ACPA;;;AAGA;AACA,UAAS;AACT;;;AAGA;;;;;;;ACRA;;;AAGA;AACA,UAAS;AACT;;;AAGA;;;;;;;ACRA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,iCAAiC;;;;AAIvD;AACA;AACA,EAAC;;AAED;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;;AAGD;AACA;;AAEA;;AAEA;AACA;;;AAGA;;;;;;;AClGA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACjFA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;;;;;;ACPA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,YAAW,eAAe;AAC1B;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;;AAGA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;;AAEA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH,GAAE,kBAAkB;AACpB;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;AACF;;;AAGA;;;;;;;ACnFA;AACA;;AAEA;AACA,UAAS;AACT;;;AAGA;;;;;;;ACRA;;AAEA;;AAEA;;;AAGA,0BAAyB;;;AAGzB;AACA;AACA;AACA,cAAa;AACb,GAAE;;AAEF;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;;AAGD;;;;;;;AC5CA;;AAEA;;AAEA;;;AAGA;AACA;AACA,EAAC;;;AAGD;AACA;;AAEA;AACA,EAAC;;;AAGD;;;;;;;ACnBA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,GAAE;;AAEF;AACA,WAAU,kDAAkD;AAC5D,GAAE;;AAEF;AACA;;;AAGA;;;;;;;AC7BA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,GAAE;;AAEF;AACA;;;AAGA;;;;;;;ACvBA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,GAAE;;AAEF;AACA;;;AAGA","file":"minimap.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b7a7de3bd0b71527a2b6\n **/","// Nobody else will initialize this so we better do it bere\nrequire('./stores/location');\n\n\n// Components\nrequire('./components/qrcode')();\n\nrequire('./components/icontray')();\n\nrequire('./components/minimap')('map');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var stateroom = require('./stateroom');\n\n\nvar latlng = {lat: 0, lng: 0};\n\n\nnavigator.geolocation.watchPosition(function(pos) {\n\tsetLatLng(pos.coords.latitude, pos.coords.longitude);\n}, function(err) {\n\tif(err.PERMISSION_DENIED) {\n\t\talert('You must allow the app to see your location or it won\\'t work');\n\t} else if(err.POSITION_UNAVAILABLE) {\n\t\talert('Location information not available from this device.');\n\t} else if(err.TIMEOUT) {\n\t\talert('Took too long to get location information.');\n\t} else {\n\t\talert('Unknown error: ' + err);\n\t}\n}, {\n\tenableHighAccuracy: true,\n\tmaximumAge: 0\n});\n\n\nsetLatLng(0, 0);\n\n\nfunction setLatLng(lat, lng) {\n\tlatlng.lat = lat;\n\tlatlng.lng = lng;\n\n\tstateroom.set('p', JSON.stringify(latlng));\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/location.js\n ** module id = 1\n ** module chunks = 0\n **/","var StateRoom = require('../helpers/stateroom');\n\n\nvar roomname = location.pathname.split('/').pop();\n\n// TODO: Use a durable websocket standin\nvar ws = new WebSocket('ws://' + location.host + '/ws/' + roomname);\n\n\nmodule.exports = new StateRoom(ws);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/stateroom.js\n ** module id = 2\n ** module chunks = 0\n **/","var asEmitter = require('../helpers/emitter.js');\n\n\n// TODO: Break this out into a synchronized map primitive\n\nvar CMD_ADD_CLIENT = 0;\nvar CMD_REMOVE_CLIENT = 1;\nvar CMD_SET = 2;\nvar CMD_DELETE = 3;\n\n\nfunction StateRoomClient(ws) {\n\tasEmitter(this);\n\n\n\tthis.id = null;\n\n\tthis._localState = Object.create(null);\n\n\tthis._ws = ws;\n\n\n\tvar self = this;\n\n\tws.onopen = function() {\n\t\tself._members = Object.create(null);\n\n\t\tself._flushLocalState();\n\n\t\t// A message comes from the server as JSON\n\t\t// [fromId, cmdCode, arguments]\n\t\t// [null, 0, ['bestIdInTheWorld']] adds a member with the id bestIdInTheWorld\n\t\tws.onmessage = function(e) {\n\t\t\ttry {\n\t\t\t\tvar message = JSON.parse(e.data);\n\t\t\t} catch(err) {\n\t\t\t\tconsole.error('Invalid JSON sent from StateRoom server: ' + e.data);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar fromId = message[0];\n\n\t\t\tvar cmd = message[1];\n\n\t\t\tvar args = message[2];\n\n\t\t\tself._handleCmd(fromId, cmd, args);\n\t\t};\n\t};\n}\n\nStateRoomClient.prototype.get = function(key, memberId) {\n\treturn this._members[memberId][key];\n};\n\nStateRoomClient.prototype.set = function(key, value) {\n\tvar valueType = typeof value;\n\n\tif(valueType !== 'string' && valueType !== 'number') {\n\t\tthrow new Error('Value must be a string or number');\n\t}\n\n\tthis._localState[key] = value;\n\n\tthis._flushLocalState();\n};\n\nStateRoomClient.prototype.delete = function(key) {\n\tif(key in this._localState) {\n\t\tthis._localState[key] = undefined;\n\t}\n\n\tthis._flushLocalState();\n};\n\nStateRoomClient.prototype.clear = function() {\n\tthis._localState = Object.create(null);\n\n\tthis._sendCmd(CMD_CLEAR);\n};\n\nStateRoomClient.prototype._flushLocalState = function() {\n\tif(this._ws.readyState !== this._ws.OPEN) return;\n\n\tObject.keys(this._localState).forEach(function(key) {\n\t\tvar value = this._localState[key];\n\n\t\tif(value === undefined) {\n\t\t\tthis._sendCmd(CMD_DELETE, [key]);\n\t\t} else {\n\t\t\tthis._sendCmd(CMD_SET, [key, value]);\n\t\t}\n\n\t\tdelete this._localState[key];\n\t}, this);\n};\n\nStateRoomClient.prototype._sendCmd = function(cmd, args) {\n\tthis._ws.send(JSON.stringify([cmd, args]));\n};\n\nStateRoomClient.prototype._handleCmd = function(fromId, cmd, args) {\n\tif(fromId) { // Member command\n\t\tswitch(cmd) {\n\t\tcase CMD_SET:\n\t\t\tthis._setProperty(fromId, args);\n\t\t\tbreak;\n\n\t\tcase CMD_DELETE:\n\t\t\tthis._deleteProperty(fromId, args);\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error('Unknown message type recieved: ' + cmd);\n\t\t}\n\t} else { // Room command\n\t\tswitch(cmd) {\n\t\t\tcase CMD_ADD_CLIENT:\n\t\t\t\tif(!this.id) { // This should be the first message it sees as a new member\n\t\t\t\t\tthis.id = args[0];\n\n\t\t\t\t\tthis.emit('ready');\n\t\t\t\t} else {\n\t\t\t\t\tthis._addMember(args[0]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase CMD_REMOVE_CLIENT:\n\t\t\t\tthis._removeMember(args[0]);\n\t\t}\n\t}\n};\n\nStateRoomClient.prototype._addMember = function(id) {\n\tthis._members[id] = Object.create(null);\n\n\tthis.emit('join', id);\n};\n\nStateRoomClient.prototype._removeMember = function(id) {\n\tdelete this._members[id];\n\n\tthis.emit('part', id);\n};\n\nStateRoomClient.prototype._setProperty = function(fromId, args) {\n\tvar key = args[0];\n\tvar value = args[1];\n\n\tthis._members[fromId][key] = value;\n\n\tthis.emit('set', fromId, key, value);\n};\n\nStateRoomClient.prototype._deleteProperty = function(fromId, args) {\n\tvar key = args[0];\n\n\tvar memberState = this._members[fromId];\n\n\tvar oldValue = memberState[key];\n\n\tdelete memberState[key];\n\n\tthis.emit('delete', fromId, key, oldValue);\n};\n\n\nmodule.exports = StateRoomClient;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/helpers/stateroom.js\n ** module id = 3\n ** module chunks = 0\n **/","function asEmitter(obj) {\n\tvar handlers = {};\n\n\tobj.on = on;\n\tobj.off = off;\n\tobj.emit = emit;\n\n\tfunction on(name, fn) {\n\t\tif(!handlers[name]) {\n\t\t\thandlers[name] = [];\n\t\t}\n\n\t\thandlers[name].push(fn);\n\n\t\treturn this;\n\t}\n\n\tfunction off(name, fn) {\n\t\tvar handlerList = handlers[name];\n\n\t\tif(handlerList) {\n\t\t\tif(fn) {\n\t\t\t\tvar pos = handlerList.indexOf(fn);\n\n\t\t\t\tif(pos !== -1) {\n\t\t\t\t\thandlerList.splice(pos, 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdelete handlers[name];\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tfunction emit(name) {\n\t\tvar args = [].slice.call(arguments, 1);\n\n\t\tvar handlerList = handlers[name];\n\n\t\tif(handlerList) {\n\t\t\thandlerList.forEach(function(handler) {\n\t\t\t\thandler.apply(null, args);\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t}\n\n\treturn obj;\n}\n\n\nmodule.exports = asEmitter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/helpers/emitter.js\n ** module id = 4\n ** module chunks = 0\n **/","require('./style.css');\n\n\nvar dispatch = require('../../dispatcher').dispatch;\n\nvar qrTrayAction = require('../../actions/qr-tray');\n\nvar qrTrayStore = require('../../stores/qr-code-tray');\n\nvar QRCode = require('../../helpers/qrcode.min.js');\n\nvar $ = require('../../helpers/sprint');\n\nvar createModalTray = require('../modal-tray');\n\n\nmodule.exports = function() {\n\tvar tray = createModalTray()\n\t.on('backdrop-click', hideAction);\n\n\t$(tray.holder)\n\t.addClass('qrcode')\n\t.on('click', hideAction);\n\n\tfunction hideAction() {\n\t\tdispatch(qrTrayAction(false));\n\t}\n\n\tvar qrcode = new QRCode(tray.holder);\n\n\tqrTrayStore.onChange(function() {\n\t\t// Only update the code if it's going to be seen\n\t\tif(qrTrayStore.open) {\n\t\t\tqrcode.makeCode(qrTrayStore.displayedUrl);\n\t\t}\n\n\t\ttray.setOpen(qrTrayStore.open);\n\t});\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/qrcode/index.js\n ** module id = 5\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../node_modules/css-loader/index.js!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../node_modules/css-loader/index.js!./style.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/qrcode/style.css\n ** module id = 6\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".qrcode {\\n\\twidth: 256px;\\n\\theight: 256px;\\n\\n\\tbackground: white;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./public/minimap/components/qrcode/style.css\n ** module id = 7\n ** module chunks = 0\n **/","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 8\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 9\n ** module chunks = 0\n **/","var asEmitter = require('./helpers/emitter');\n\n\nvar DEBUG = false;\n\nvar emitter = asEmitter({});\n\n\nmodule.exports = {\n\tdispatch: function(action) {\n\t\tif(DEBUG) {\n\t\t\tconsole.log('Action dispatched:', action);\n\t\t}\n\n\t\temitter.emit(action.type, action);\n\t},\n\tregister: function(actionType, fn) {\n\t\temitter.on(actionType, fn);\n\t}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/dispatcher.js\n ** module id = 10\n ** module chunks = 0\n **/","var TYPE = 3;\n\n\nmodule.exports = exports = function(open, url) {\n\treturn {type: TYPE, open: open, url: url};\n};\n\n\nexports.type = TYPE;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/actions/qr-tray.js\n ** module id = 11\n ** module chunks = 0\n **/","var dispatcher = require('../dispatcher');\n\nvar QR_TRAY_ACTION = require('../actions/qr-tray').type;\n\nvar asStore = require('../helpers/store');\n\n\nvar qrCodeTray = asStore({\n\topen: false,\n\tdisplayedUrl: 'about:blank'\n});\n\n\ndispatcher.register(QR_TRAY_ACTION, function(payload) {\n\tqrCodeTray.open = payload.open;\n\n\tif(payload.url) {\n\t\tqrCodeTray.displayedUrl = payload.url;\n\t}\n\n\tqrCodeTray.emitChange();\n});\n\n\nmodule.exports = qrCodeTray;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/qr-code-tray.js\n ** module id = 12\n ** module chunks = 0\n **/","function asStore(a) {\n\tvar handlers = [];\n\n\ta.onChange = function(fn) {\n\t\tif(handlers.indexOf(fn) !== -1) {\n\t\t\tthrow new Error('Same callback registered twice: ' + fn);\n\t\t}\n\n\t\thandlers.push(fn);\n\n\t\t// Initialize\n\t\tfn();\n\t};\n\n\ta.emitChange = function() {\n\t\thandlers.forEach(function(handler) {\n\t\t\thandler();\n\t\t});\n\t};\n\n\treturn a;\n}\n\n\nmodule.exports = asStore;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/helpers/store.js\n ** module id = 13\n ** module chunks = 0\n **/","var QRCode;!function(){function a(a){this.mode=c.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],d=0,e=this.data.length;e>d;d++){var f=this.data.charCodeAt(d);f>65536?(b[0]=240|(1835008&f)>>>18,b[1]=128|(258048&f)>>>12,b[2]=128|(4032&f)>>>6,b[3]=128|63&f):f>2048?(b[0]=224|(61440&f)>>>12,b[1]=128|(4032&f)>>>6,b[2]=128|63&f):f>128?(b[0]=192|(1984&f)>>>6,b[1]=128|63&f):b[0]=f,this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(a,b){if(void 0==a.length)throw new Error(a.length+\"/\"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function j(a,b){this.totalCount=a,this.dataCount=b}function k(){this.buffer=[],this.length=0}function m(){return\"undefined\"!=typeof CanvasRenderingContext2D}function n(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function r(a,b){for(var c=1,e=s(a),f=0,g=l.length;g>=f;f++){var h=0;switch(b){case d.L:h=l[f][0];break;case d.M:h=l[f][1];break;case d.Q:h=l[f][2];break;case d.H:h=l[f][3]}if(h>=e)break;c++}if(c>l.length)throw new Error(\"Too long data\");return c}function s(a){var b=encodeURI(a).toString().replace(/\\%[0-9a-fA-F]{2}/g,\"a\");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+\",\"+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=f.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=f.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[d+g][e+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=f.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=f.getBCHTypeInfo(c),e=0;15>e;e++){var g=!a&&1==(1&d>>e);6>e?this.modules[e][8]=g:8>e?this.modules[e+1][8]=g:this.modules[this.moduleCount-15+e][8]=g}for(var e=0;15>e;e++){var g=!a&&1==(1&d>>e);8>e?this.modules[8][this.moduleCount-e-1]=g:9>e?this.modules[8][15-e-1+1]=g:this.modules[8][15-e-1]=g}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,g=0,h=this.moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var i=0;2>i;i++)if(null==this.modules[d][h-i]){var j=!1;g<a.length&&(j=1==(1&a[g]>>>e));var k=f.getMask(b,d,h-i);k&&(j=!j),this.modules[d][h-i]=j,e--,-1==e&&(g++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var e=j.getRSBlocks(a,c),g=new k,h=0;h<d.length;h++){var i=d[h];g.put(i.mode,4),g.put(i.getLength(),f.getLengthInBits(i.mode,a)),i.write(g)}for(var l=0,h=0;h<e.length;h++)l+=e[h].dataCount;if(g.getLengthInBits()>8*l)throw new Error(\"code length overflow. (\"+g.getLengthInBits()+\">\"+8*l+\")\");for(g.getLengthInBits()+4<=8*l&&g.put(0,4);0!=g.getLengthInBits()%8;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*l)break;if(g.put(b.PAD0,8),g.getLengthInBits()>=8*l)break;g.put(b.PAD1,8)}return b.createBytes(g,e)},b.createBytes=function(a,b){for(var c=0,d=0,e=0,g=new Array(b.length),h=new Array(b.length),j=0;j<b.length;j++){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),e=Math.max(e,l),g[j]=new Array(k);for(var m=0;m<g[j].length;m++)g[j][m]=255&a.buffer[m+c];c+=k;var n=f.getErrorCorrectPolynomial(l),o=new i(g[j],n.getLength()-1),p=o.mod(n);h[j]=new Array(n.getLength()-1);for(var m=0;m<h[j].length;m++){var q=m+p.getLength()-h[j].length;h[j][m]=q>=0?p.get(q):0}}for(var r=0,m=0;m<b.length;m++)r+=b[m].totalCount;for(var s=new Array(r),t=0,m=0;d>m;m++)for(var j=0;j<b.length;j++)m<g[j].length&&(s[t++]=g[j][m]);for(var m=0;e>m;m++)for(var j=0;j<b.length;j++)m<h[j].length&&(s[t++]=h[j][m]);return s};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;f.getBCHDigit(b)-f.getBCHDigit(f.G15)>=0;)b^=f.G15<<f.getBCHDigit(b)-f.getBCHDigit(f.G15);return(a<<10|b)^f.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;f.getBCHDigit(b)-f.getBCHDigit(f.G18)>=0;)b^=f.G18<<f.getBCHDigit(b)-f.getBCHDigit(f.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case e.PATTERN000:return 0==(b+c)%2;case e.PATTERN001:return 0==b%2;case e.PATTERN010:return 0==c%3;case e.PATTERN011:return 0==(b+c)%3;case e.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case e.PATTERN101:return 0==b*c%2+b*c%3;case e.PATTERN110:return 0==(b*c%2+b*c%3)%2;case e.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw new Error(\"bad maskPattern:\"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new i([1],0),c=0;a>c;c++)b=b.multiply(new i([1,g.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+a)}else if(27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+a)}else{if(!(41>b))throw new Error(\"type:\"+b);switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},g={glog:function(a){if(1>a)throw new Error(\"glog(\"+a+\")\");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)g.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)g.EXP_TABLE[h]=g.EXP_TABLE[h-4]^g.EXP_TABLE[h-5]^g.EXP_TABLE[h-6]^g.EXP_TABLE[h-8];for(var h=0;255>h;h++)g.LOG_TABLE[g.EXP_TABLE[h]]=h;i.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=g.gexp(g.glog(this.get(c))+g.glog(a.get(d)));return new i(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=g.glog(this.get(0))-g.glog(a.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<a.getLength();d++)c[d]^=g.gexp(g.glog(a.get(d))+b);return new i(c,0).mod(a)}},j.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],j.getRSBlocks=function(a,b){var c=j.getRsBlockTable(a,b);if(void 0==c)throw new Error(\"bad rs block @ typeNumber:\"+a+\"/errorCorrectLevel:\"+b);for(var d=c.length/3,e=[],f=0;d>f;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],k=0;g>k;k++)e.push(new j(h,i));return e},j.getRsBlockTable=function(a,b){switch(b){case d.L:return j.RS_BLOCK_TABLE[4*(a-1)+0];case d.M:return j.RS_BLOCK_TABLE[4*(a-1)+1];case d.Q:return j.RS_BLOCK_TABLE[4*(a-1)+2];case d.H:return j.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},k.prototype={get:function(a){var b=Math.floor(a/8);return 1==(1&this.buffer[b]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],o=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function g(a,b){var c=document.createElementNS(\"http://www.w3.org/2000/svg\",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var b=this._htOption,c=this._el,d=a.getModuleCount();Math.floor(b.width/d),Math.floor(b.height/d),this.clear();var h=g(\"svg\",{viewBox:\"0 0 \"+String(d)+\" \"+String(d),width:\"100%\",height:\"100%\",fill:b.colorLight});h.setAttributeNS(\"http://www.w3.org/2000/xmlns/\",\"xmlns:xlink\",\"http://www.w3.org/1999/xlink\"),c.appendChild(h),h.appendChild(g(\"rect\",{fill:b.colorDark,width:\"1\",height:\"1\",id:\"template\"}));for(var i=0;d>i;i++)for(var j=0;d>j;j++)if(a.isDark(i,j)){var k=g(\"use\",{x:String(i),y:String(j)});k.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",\"#template\"),h.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),p=\"svg\"===document.documentElement.tagName.toLowerCase(),q=p?o:m()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL(\"image/png\"),this._elImage.style.display=\"block\",this._elCanvas.style.display=\"none\"}function d(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement(\"img\"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,d.src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\",void 0}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var b=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,d,e,f,g,h,i,j){if(\"nodeName\"in a&&/img/i.test(a.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*b;else\"undefined\"==typeof j&&(arguments[1]*=b,arguments[2]*=b,arguments[3]*=b,arguments[4]*=b);c.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=n(),this._htOption=b,this._elCanvas=document.createElement(\"canvas\"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext(\"2d\"),this._bIsPainted=!1,this._elImage=document.createElement(\"img\"),this._elImage.style.display=\"none\",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display=\"none\",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&d.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style=\"border:0;border-collapse:collapse;\">'],h=0;d>h;h++){g.push(\"<tr>\");for(var i=0;d>i;i++)g.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+\"px;height:\"+f+\"px;background-color:\"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';\"></td>');g.push(\"</tr>\")}g.push(\"</table>\"),c.innerHTML=g.join(\"\");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+\"px \"+k+\"px\")},a.prototype.clear=function(){this._el.innerHTML=\"\"},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:\"#000000\",colorLight:\"#ffffff\",correctLevel:d.H},\"string\"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];\"string\"==typeof a&&(a=document.getElementById(a)),this._android=n(),this._el=a,this._oQRCode=null,this._oDrawing=new q(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(a){this._oQRCode=new b(r(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){\"function\"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=d}();module.exports=QRCode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/helpers/qrcode.min.js\n ** module id = 14\n ** module chunks = 0\n **/","/*\n * Sprint JavaScript Library v0.9.2\n * http://sprintjs.com\n *\n * Copyright (c) 2014, 2015 Benjamin De Cock\n * Released under the MIT license\n * http://sprintjs.com/license\n */\n\nvar Sprint;\n\n(function() {\n  \"use strict\";\n\n  var addEventListeners = function(listeners, el) {\n    var sprintClone = Sprint(el)\n    var events = Object.keys(listeners)\n    var eventsLen = events.length\n\n    for (var i = 0; i < eventsLen; i++) {\n      var event = events[i]\n      var handlers = listeners[event]\n      var handlersLen = handlers.length\n\n      for (var j = 0; j < handlersLen; j++) {\n        sprintClone.on(event, handlers[j])\n      }\n    }\n  }\n\n  var addPx = (function() {\n    var noPx = [\n      \"animation-iteration-count\",\n      \"column-count\",\n      \"flex-grow\",\n      \"flex-shrink\",\n      \"font-weight\",\n      \"line-height\",\n      \"opacity\",\n      \"order\",\n      \"orphans\",\n      \"widows\",\n      \"z-index\"\n    ]\n    return function addPx(cssProperty, value) {\n      if (inArray(cssProperty, noPx)) return value\n      var stringValue = typeof value == \"string\" ? value : value.toString()\n      if (value && !/\\D/.test(stringValue)) {\n        stringValue += \"px\"\n      }\n      return stringValue\n    }\n  }())\n\n  var createDOM = function(HTMLString) {\n    var tmp = document.createElement(\"div\")\n    var tag = /[\\w:-]+/.exec(HTMLString)[0]\n    var inMap = wrapMap[tag]\n    var validHTML = HTMLString.trim()\n    if (inMap) {\n      validHTML = inMap.intro + validHTML + inMap.outro\n    }\n    tmp.insertAdjacentHTML(\"afterbegin\", validHTML)\n    var node = tmp.lastChild\n    if (inMap) {\n      var i = inMap.outro.match(/</g).length\n      while (i--) {\n        node = node.lastChild\n      }\n    }\n    // prevent tmp to be node's parentNode\n    tmp.textContent = \"\"\n    return node\n  }\n\n  var domMethods = {\n    afterbegin: function(el) {\n      this.insertBefore(el, this.firstChild)\n    },\n    afterend: function(el) {\n      var parent = this.parentElement\n      parent && parent.insertBefore(el, this.nextSibling)\n    },\n    beforebegin: function(el) {\n      var parent = this.parentElement\n      parent && parent.insertBefore(el, this)\n    },\n    beforeend: function(el) {\n      this.appendChild(el)\n    }\n  }\n\n  var duplicateEventListeners = function(el, clone) {\n    // Element nodes only\n    if (el.nodeType > 1) return\n\n    // Duplicate event listeners for the parent element...\n    var listeners = getEvents(el)\n    listeners && addEventListeners(listeners, clone)\n\n    // ... and its descendants.\n    var descendants = selectElements(\"*\", el)\n    var descendantsLen = descendants.length\n\n    // cloneDescendants is defined later to avoid calling selectElements() if not needed\n    var cloneDescendants\n\n    for (var i = 0; i < descendantsLen; i++) {\n      var listeners = getEvents(descendants[i])\n      if (!listeners) continue\n      if (!cloneDescendants) {\n        cloneDescendants = selectElements(\"*\", clone)\n      }\n      addEventListeners(listeners, cloneDescendants[i])\n    }\n  }\n\n  var findAncestors = function(startAtParent, limitToParent, limitToFirstMatch, selector, context) {\n    var dom = []\n    var self = this\n    this.each(function() {\n      var prt = startAtParent ? this.parentElement : this\n      while (prt) {\n        if (context && context == prt) break\n        if (!selector || self.is(selector, prt)) {\n          dom.push(prt)\n          if (limitToFirstMatch) break\n        }\n        if (limitToParent) break\n        prt = prt.parentElement\n      }\n    })\n    return Sprint(removeDuplicates(dom))\n  }\n\n  var getEventFromNamespace = function(event) {\n    return splitNamespaces(event)[0]\n  }\n\n  var getEvents = function(domElement) {\n    return domElement.sprintEventListeners\n  }\n\n  var getEventsToRemove = function(domElement, event) {\n    /*\n     * Returns an array with the sprintEventListeners events matching potentially\n     * incomplete event names passed to .off().\n     * Example: .off(\"click.myPlugin\") and .off(\"click.simple\") would both remove a\n     * \"click.myPlugin.simple\" event.\n     */\n    return Object.keys(getEvents(domElement)).filter(function(prop) {\n      return splitNamespaces(event).every(function(name) {\n        return inArray(name, splitNamespaces(prop))\n      })\n    })\n  }\n\n  var getSetDimension = function(obj, prop, value) {\n    // get\n    if (value == null) {\n      var el = obj.get(0)\n      if (!el || el.nodeType > 1) return\n      var capitalizedProp = prop[0].toUpperCase() + prop.substring(1)\n      // dimension of HTML document\n      if (el == document) {\n        var offset = root[\"offset\" + capitalizedProp]\n        var inner = window[\"inner\" + capitalizedProp]\n        return offset > inner ? offset : inner\n      }\n      // dimension of viewport\n      if (el == window) {\n        return window[\"inner\" + capitalizedProp]\n      }\n      // dimension of element\n      return el.getBoundingClientRect()[prop]\n    }\n\n    // set\n    var isFunction = typeof value == \"function\"\n    var stringValue = isFunction ? \"\" : addPx(prop, value)\n    return obj.each(function(index) {\n      if (this == document || this == window || this.nodeType > 1) return\n      if (isFunction) {\n        stringValue = addPx(prop, value.call(this, index, Sprint(this)[prop]()))\n      }\n      this.style[prop] = stringValue\n    })\n  }\n\n  var insertHTML = function(position, args) {\n    var argsLen = args.length\n    var contents = args\n\n    // reverse argument list for afterbegin and afterend\n    if (argsLen > 1 && position.indexOf(\"after\") > -1) {\n      contents = []\n      var i = argsLen\n      while (i--) {\n        contents.push(args[i])\n      }\n    }\n\n    for (var i = 0; i < argsLen; i++) {\n      var content = contents[i]\n      if (typeof content == \"string\" || typeof content == \"number\") {\n        this.each(function() {\n          this.insertAdjacentHTML(position, content)\n        })\n      }\n      else if (typeof content == \"function\") {\n        this.each(function(index) {\n          var callbackValue = content.call(this, index, this.innerHTML)\n          insertHTML.call(Sprint(this), position, [callbackValue])\n        })\n      }\n      else {\n        var isSprintObj = content instanceof Init\n        var clonedElements = []\n        var elementsToInsert = (function() {\n          if (isSprintObj) {\n            return content.get()\n          }\n          if (Array.isArray(content)) {\n            return sanitize(content, true, true)\n          }\n          // DOM node\n          if (content.nodeType) {\n            return [content]\n          }\n          // getElementsByTagName, getElementsByClassName, querySelectorAll\n          return toArray(content)\n        }())\n        var elementsToInsertLen = elementsToInsert.length\n\n        this.each(function(index) {\n          /*\n           * The fragment serves multiple purposes:\n           * 1) It significantly boosts perf when multiple elements are added.\n           * 2) It avoids the need for elementsToInsert.reverse() for afterbegin and afterend\n           * 3) It removes an element from its original position before adding it back, which is\n           * especially useful for elements not part of the DOM tree. That means it's important even\n           * when elementsToInsertLen == 1.\n           */\n          var fragment = document.createDocumentFragment()\n          for (var i = 0; i < elementsToInsertLen; i++) {\n            var element = elementsToInsert[i]\n            var elementToInsert\n            if (index) {\n              elementToInsert = element.cloneNode(true)\n              duplicateEventListeners(element, elementToInsert)\n            }\n            else {\n              elementToInsert = element\n            }\n            fragment.appendChild(elementToInsert)\n            clonedElements.push(elementToInsert)\n          }\n          domMethods[position].call(this, fragment)\n        })\n\n        if (isSprintObj) {\n          content.dom = clonedElements\n          content.length = clonedElements.length\n        }\n        if (i < argsLen-1) continue\n        return clonedElements\n      }\n    }\n  }\n\n  var inArray = function(el, arr) {\n    var i = arr.length\n    while (i--) {\n      if (arr[i] === el) return true\n    }\n    return false\n  }\n\n  var isNamespaced = function(event) {\n    return /\\./.test(event)\n  }\n\n  var manipulateClass = function(method, className, bool) {\n    if (className == null) {\n      if (method == \"add\") {\n        return this\n      }\n      return this.removeAttr(\"class\")\n    }\n\n    var isString\n    var classNames\n    var classNamesLen\n\n    if (typeof className == \"string\") {\n      isString = true\n      classNames = className.trim().split(\" \")\n      classNamesLen = classNames.length\n    }\n\n    return this.each(function(i, el) {\n      if (this.nodeType > 1) return\n      if (!isString) {\n        // className is a function\n        var callbackValue = className.call(el, i, el.className)\n        if (!callbackValue) return\n        classNames = callbackValue.trim().split(\" \")\n        classNamesLen = classNames.length\n      }\n      for (var j = 0; j < classNamesLen; j++) {\n        var name = classNames[j]\n        if (!name) continue\n        bool == null\n          ? el.classList[method](name)\n          : el.classList.toggle(name, bool)\n      }\n    })\n  }\n\n  var matches = (function() {\n    var names = [\n      \"mozMatchesSelector\",\n      \"webkitMatchesSelector\",\n      \"msMatchesSelector\",\n      \"matches\"\n    ]\n    var i = names.length\n    while (i--) {\n      var name = names[i]\n      if (!Element.prototype[name]) continue\n      return name\n    }\n  }())\n\n  var removeDuplicates = function(arr) {\n    var clean = []\n    var cleanLen = 0\n    var arrLen = arr.length\n\n    for (var i = 0; i < arrLen; i++) {\n      var el = arr[i]\n      var duplicate = false\n\n      for (var j = 0; j < cleanLen; j++) {\n        if (el !== clean[j]) continue\n        duplicate = true\n        break\n      }\n\n      if (duplicate) continue\n      clean[cleanLen++] = el\n    }\n\n    return clean\n  }\n\n  var removeEvent = (function() {\n    var isHandlerShared = function(el, event, registeredHandler) {\n      var similarEventsHandlers = Object.keys(getEvents(el)).filter(function(prop) {\n        return getEventFromNamespace(event) === getEventFromNamespace(prop)\n      }).map(function(ev) {\n        return getEvents(el)[ev]\n      }).reduce(function(a, b) {\n        return a.concat(b)\n      }).filter(function(handler) {\n        return handler === registeredHandler\n      })\n      if (similarEventsHandlers.length < 2) return false\n      return true\n    }\n    var removeListener = function(el, event, namedHandler) {\n      return function(registeredHandler) {\n        if (namedHandler && namedHandler !== registeredHandler) return\n        el.removeEventListener(event, registeredHandler)\n        if (!isNamespaced(event) || isHandlerShared(el, event, registeredHandler)) return\n        el.removeEventListener(getEventFromNamespace(event), registeredHandler)\n      }\n    }\n    var clearRegisteredHandlers = function(registeredHandlers, namedHandler) {\n      return registeredHandlers.filter(function(handler) {\n        return namedHandler && namedHandler !== handler\n      })\n    }\n    return function(el, namedHandler) {\n      return function(event) {\n        getEvents(el)[event].forEach(removeListener(el, event, namedHandler))\n        getEvents(el)[event] = clearRegisteredHandlers(getEvents(el)[event], namedHandler)\n      }\n    }\n  }())\n\n  var removeMatchedEvents = function(el, namedHandler) {\n    return function(event) {\n      getEventsToRemove(el, event).forEach(removeEvent(el, namedHandler))\n    }\n  }\n\n  var root = document.documentElement\n\n  var sanitize = function(arr, flattenObjects, requireDomNodes) {\n    /*\n     * Remove null's from array. Optionally, flatten Sprint objects and convert strings and numbers\n     * to DOM text nodes.\n     */\n    var arrLen = arr.length\n    var i = arrLen\n\n    // Check if arr needs to be sanitized first (significant perf boost for the most common case)\n    while (i--) {\n      // arr needs to be sanitized\n      if ( (!arr[i] && arr[i] !== 0)\n        || (flattenObjects && arr[i] instanceof Init)\n        || (requireDomNodes && (typeof arr[i] == \"string\" || typeof arr[i] == \"number\"))\n      ) {\n        var sanitized = []\n        for (var j = 0; j < arrLen; j++) {\n          var el = arr[j]\n          if (!el && el !== 0) continue\n          if (flattenObjects && el instanceof Init) {\n            for (var k = 0; k < el.length; k++) {\n              sanitized.push(el.get(k))\n            }\n            continue\n          }\n          if (requireDomNodes && (typeof el == \"string\" || typeof el == \"number\")) {\n            sanitized.push(document.createTextNode(el))\n            continue\n          }\n          sanitized.push(el)\n        }\n        return sanitized\n      }\n    }\n\n    // arr didn't need to be sanitized, return it\n    return arr\n  }\n\n  var scroll = (function() {\n    var scrollRoot\n    return function(sprintObj, method, value) {\n      // define scroll root element on first run\n      if (!scrollRoot) {\n        var initialScrollPos = root.scrollTop\n        root.scrollTop = initialScrollPos + 1\n        var updatedScrollPos = root.scrollTop\n        root.scrollTop = initialScrollPos\n        scrollRoot = updatedScrollPos > initialScrollPos\n          ? root // spec-compliant browsers (like FF34 and IE11)\n          : document.body // naughty boys (like Chrome 39 and Safari 8)\n      }\n\n      // get scroll position\n      if (value == null) {\n        var el = sprintObj.get(0)\n        if (!el) return\n        if (el == window || el == document) {\n          el = scrollRoot\n        }\n        return el[method]\n      }\n\n      // set scroll position\n      return sprintObj.each(function() {\n        var el = this\n        if (el == window || el == document) {\n          el = scrollRoot\n        }\n        el[method] = value\n      })\n    }\n  }())\n\n  var selectAdjacentSiblings = function(sprintObj, direction, selector, until) {\n    var dom = []\n    var prop = direction + \"ElementSibling\"\n    sprintObj.each(function() {\n      var el = this\n      while (el = el[prop]) {\n        if (until && sprintObj.is(until, el)) break\n        if (selector && !sprintObj.is(selector, el)) continue\n        dom.push(el)\n      }\n    })\n    return Sprint(removeDuplicates(dom))\n  }\n\n  var selectImmediateAdjacentSibling = function(sprintObj, direction, selector) {\n    var prop = direction + \"ElementSibling\"\n    return sprintObj.map(function() {\n      var el = this[prop]\n      if (!el || (selector && !sprintObj.is(selector, el))) return\n      return el\n    }, false)\n  }\n\n  var selectElements = function(selector, context) {\n    context = context || document\n    // class, id, tag name or universal selector\n    if (/^[\\#.]?[\\w-]+$/.test(selector)) {\n      var firstChar = selector[0]\n      if (firstChar == \".\") {\n        return toArray(context.getElementsByClassName(selector.slice(1)))\n      }\n      if (firstChar == \"#\") {\n        var el = context.getElementById(selector.slice(1))\n        return el ? [el] : []\n      }\n      if (selector == \"body\") {\n        return [document.body]\n      }\n      return toArray(context.getElementsByTagName(selector))\n    }\n    return toArray(context.querySelectorAll(selector))\n  }\n\n  var splitNamespaces = function(event) {\n    return sanitize(event.split(\".\"))\n  }\n\n  var toArray = function(obj) {\n    var arr = []\n    var i = obj.length\n    while (i--) {\n      arr[i] = obj[i]\n    }\n    return arr\n  }\n\n  var wrap = (function() {\n    var callback = function(wrappingElement, variant) {\n      var wrap = Sprint(wrappingElement).clone(true).get(0)\n      var innerWrap = wrap\n      if (!wrap || this.nodeType > 1) return\n      while (innerWrap.firstChild) {\n        innerWrap = innerWrap.firstChild\n      }\n      if (variant == \"inner\") {\n        while (this.firstChild) {\n          innerWrap.appendChild(this.firstChild)\n        }\n        this.appendChild(wrap)\n      }\n      else {\n        var el = variant == \"all\" ? this.get(0) : this\n        var prt = el.parentNode\n        var next = el.nextSibling\n        variant == \"all\"\n          ? this.each(function() { innerWrap.appendChild(this) })\n          : innerWrap.appendChild(el)\n        prt.insertBefore(wrap, next)\n      }\n    }\n    return function(wrappingElement, variant) {\n      if (typeof wrappingElement == \"function\") {\n        this.each(function(i) {\n          Sprint(this)[variant == \"inner\" ? \"wrapInner\" : \"wrap\"](wrappingElement.call(this, i))\n        })\n      }\n      else {\n        variant == \"all\"\n          ? callback.call(this, wrappingElement, variant)\n          : this.each(function() { callback.call(this, wrappingElement, variant) })\n      }\n      return this\n    }\n  }())\n\n  var wrapMap = {\n    legend: {\n      intro: \"<fieldset>\",\n      outro: \"</fieldset>\"\n    },\n    area: {\n      intro: \"<map>\",\n      outro: \"</map>\"\n    },\n    param: {\n      intro: \"<object>\",\n      outro: \"</object>\"\n    },\n    thead: {\n      intro: \"<table>\",\n      outro: \"</table>\"\n    },\n    tr: {\n      intro: \"<table><tbody>\",\n      outro: \"</tbody></table>\"\n    },\n    col: {\n      intro: \"<table><tbody></tbody><colgroup>\",\n      outro: \"</colgroup></table>\"\n    },\n    td: {\n      intro: \"<table><tbody><tr>\",\n      outro: \"</tr></tbody></table>\"\n    }\n  };\n  // elements needing a construct already defined by other elements\n  [\"tbody\", \"tfoot\", \"colgroup\", \"caption\"].forEach(function(tag) {\n    wrapMap[tag] = wrapMap.thead\n  })\n  wrapMap.th = wrapMap.td\n\n  // constructor\n\n  var Init = function(selector, context) {\n    if (typeof selector == \"string\") {\n      // create DOM element\n      if (selector[0] == \"<\") {\n        this.dom = [createDOM(selector)]\n      }\n      // select DOM elements\n      else {\n        this.dom = context && context instanceof Init\n          ? context.find(selector).get()\n          : selectElements(selector, context)\n      }\n    }\n    else if (Array.isArray(selector)) {\n      this.dom = sanitize(selector)\n    }\n    else if (\n      selector instanceof NodeList ||\n      selector instanceof HTMLCollection\n    ) {\n      this.dom = toArray(selector)\n    }\n    else if (selector instanceof Init) {\n      return selector\n    }\n    else if (typeof selector == \"function\") {\n      return this.ready(selector)\n    }\n    else {\n      // assume DOM node\n      this.dom = selector ? [selector] : []\n    }\n    this.length = this.dom.length\n  }\n\n  Init.prototype = {\n    add: function(selector) {\n      var dom = this.get()\n      var objToAdd = Sprint(selector)\n      var domToAdd = objToAdd.get()\n      for (var i = 0; i < objToAdd.length; i++) {\n        dom.push(domToAdd[i])\n      }\n      return Sprint(removeDuplicates(dom))\n    },\n    addClass: function(className) {\n      return manipulateClass.call(this, \"add\", className)\n    },\n    after: function() {\n      insertHTML.call(this, \"afterend\", arguments)\n      return this\n    },\n    append: function() {\n      insertHTML.call(this, \"beforeend\", arguments)\n      return this\n    },\n    appendTo: function(target) {\n      return Sprint(insertHTML.call(Sprint(target), \"beforeend\", [this]))\n    },\n    attr: function(name, value) {\n      var isFunc = typeof value == \"function\"\n      if (typeof value == \"string\" || typeof value == \"number\" || isFunc) {\n        return this.each(function(i) {\n          if (this.nodeType > 1) return\n          this.setAttribute(\n            name, isFunc ? value.call(this, i, this.getAttribute(name)) : value\n          )\n        })\n      }\n      if (typeof name == \"object\") {\n        var attrNames = Object.keys(name)\n        var attrNamesLen = attrNames.length\n        return this.each(function() {\n          if (this.nodeType > 1) return\n          for (var i = 0; i < attrNamesLen; i++) {\n            var attribute = attrNames[i]\n            this.setAttribute(attribute, name[attribute])\n          }\n        })\n      }\n      var el = this.get(0)\n      if (!el || el.nodeType > 1) return\n      var attrValue = el.getAttribute(name)\n      if (attrValue == null) {\n        return undefined\n      }\n      if (!attrValue) {\n        return name\n      }\n      return attrValue\n    },\n    before: function() {\n      insertHTML.call(this, \"beforebegin\", arguments)\n      return this\n    },\n    children: function(selector) {\n      var dom = []\n      var self = this\n      this.each(function() {\n        if (this.nodeType > 1) return\n        var nodes = this.children\n        var nodesLen = nodes.length\n        for (var i = 0; i < nodesLen; i++) {\n          var node = nodes[i]\n          if (!selector || self.is(selector, node)) {\n            dom.push(node)\n          }\n        }\n      })\n      return Sprint(dom)\n    },\n    clone: function(withEvents) {\n      return this.map(function() {\n        if (!this) return\n        var clone = this.cloneNode(true)\n        withEvents && duplicateEventListeners(this, clone)\n        return clone\n      }, false)\n    },\n    closest: function(selector, context) {\n      return findAncestors.call(this, false, false, true, selector, context)\n    },\n    css: function(property, value) {\n      var valueType = typeof value\n      var isString = valueType == \"string\"\n\n      // set\n      if (isString || valueType == \"number\") {\n        var isRelativeValue = isString && /=/.test(value)\n        if (isRelativeValue) {\n          var relativeValue = parseInt(value[0] + value.slice(2))\n        }\n        return this.each(function() {\n          if (this.nodeType > 1) return\n          if (isRelativeValue) {\n            var current = parseInt(getComputedStyle(this).getPropertyValue(property))\n            var result = current + relativeValue\n          }\n          this.style[property] = addPx(property, isRelativeValue ? result : value)\n        })\n      }\n      // set\n      if (valueType == \"function\") {\n        return this.each(function(index) {\n          if (this.nodeType > 1) return\n          var oldValue = getComputedStyle(this).getPropertyValue(property)\n          this.style[property] = value.call(this, index, oldValue)\n        })\n      }\n      // read\n      if (typeof property == \"string\") {\n        var el = this.get(0)\n        if (!el || el.nodeType > 1) return\n        return getComputedStyle(el).getPropertyValue(property)\n      }\n      // read\n      if (Array.isArray(property)) {\n        var el = this.get(0)\n        if (!el || el.nodeType > 1) return\n        var o = {}\n        var styles = getComputedStyle(el)\n        var propertyLen = property.length\n        for (var i = 0; i < propertyLen; i++) {\n          var prop = property[i]\n          o[prop] = styles.getPropertyValue(prop)\n        }\n        return o\n      }\n      // set\n      var properties = Object.keys(property)\n      var propertiesLen = properties.length\n      return this.each(function() {\n        if (this.nodeType > 1) return\n        for (var i = 0; i < propertiesLen; i++) {\n          var prop = properties[i]\n          this.style[prop] = addPx(prop, property[prop])\n        }\n      })\n    },\n    detach: function() {\n      return this.map(function() {\n        var parent = this.parentElement\n        if (!parent) return\n        parent.removeChild(this)\n        return this\n      }, false)\n    },\n    each: function(callback) {\n      // callback(index, element) where element == this\n      var dom = this.dom\n      var len = this.length\n      for (var i = 0; i < len; i++) {\n        var node = dom[i]\n        callback.call(node, i, node)\n      }\n      return this\n    },\n    empty: function() {\n      return this.each(function() {\n        this.innerHTML = \"\"\n      })\n    },\n    eq: function(index) {\n      return Sprint(this.get(index))\n    },\n    filter: function(selector) {\n      var isFunc = typeof selector == \"function\"\n      var self = this\n      return this.map(function(i) {\n        if ( this.nodeType > 1\n          || (!isFunc && !self.is(selector, this))\n          || (isFunc && !selector.call(this, i, this))\n        ) return\n        return this\n      }, false)\n    },\n    find: function(selector) {\n      // .find(selector)\n      if (typeof selector == \"string\") {\n        var dom = []\n        this.each(function() {\n          if (this.nodeType > 1) return\n          var elements = selectElements(selector, this)\n          var elementsLen = elements.length\n          for (var i = 0; i < elementsLen; i++) {\n            dom.push(elements[i])\n          }\n        })\n        return Sprint(removeDuplicates(dom))\n      }\n\n      // .find(element)\n      var elementsToFind = selector.nodeType ? [selector] : selector.get()\n      var elementsToFindLen = elementsToFind.length\n      var elementsFound = []\n      var elementsFoundLen = 0\n\n      for (var i = 0; i < this.length; i++) {\n        var el = this.get(i)\n        if (el.nodeType > 1) continue\n        // check if each element in `this` contains the elements to find\n        for (var j = 0; j < elementsToFindLen; j++) {\n          var elementToFind = elementsToFind[j]\n          if (!el.contains(elementToFind)) continue\n          elementsFound[elementsFoundLen++] = elementToFind\n          if (elementsFoundLen < elementsToFindLen) continue\n          // everything has been found, return results\n          return Sprint(elementsFound)\n        }\n      }\n\n      // some elements in elementsToFind weren't descendants of `this`\n      return Sprint(elementsFound)\n    },\n    first: function() {\n      return this.eq(0)\n    },\n    get: function(index) {\n      if (index == null) {\n        return this.dom\n      }\n      if (index < 0) {\n        index += this.length\n      }\n      return this.dom[index]\n    },\n    has: function(selector) {\n      // .has(selector)\n      if (typeof selector == \"string\") {\n        return this.map(function() {\n          if (this.nodeType > 1 || !selectElements(selector, this)[0]) return\n          return this\n        }, false)\n      }\n\n      // .has(contained)\n      var result = []\n      var i = this.length\n      while (i--) {\n        var el = this.get(i)\n        if (!el.contains(selector)) continue\n        result.push(el)\n        break\n      }\n      return Sprint(result)\n    },\n    hasClass: function(name) {\n      var i = this.length\n      while (i--) {\n        var el = this.get(i)\n        if (el.nodeType > 1) return\n        if (el.classList.contains(name)) {\n          return true\n        }\n      }\n      return false\n    },\n    height: function(value) {\n      return getSetDimension(this, \"height\", value)\n    },\n    html: function(htmlString) {\n      if (htmlString == null) {\n        var el = this.get(0)\n        if (!el) return\n        return el.innerHTML\n      }\n      if (typeof htmlString == \"function\") {\n        return this.each(function(i) {\n          var content = htmlString.call(this, i, this.innerHTML)\n          Sprint(this).html(content)\n        })\n      }\n      return this.each(function() {\n        this.innerHTML = htmlString\n      })\n    },\n    index: function(el) {\n      if (!this.length) return\n      var toFind\n      var sprintElements\n      if (!el) {\n        toFind = this.get(0)\n        sprintElements = this.first().parent().children()\n      }\n      else if (typeof el == \"string\") {\n        toFind = this.get(0)\n        sprintElements = Sprint(el)\n      }\n      else {\n        toFind = el instanceof Init ? el.get(0) : el\n        sprintElements = this\n      }\n      var elements = sprintElements.get()\n      var i = elements.length\n      while (i--) {\n        if (elements[i] == toFind) {\n          return i\n        }\n      }\n      return -1\n    },\n    insertAfter: function(target) {\n      Sprint(target).after(this)\n      return this\n    },\n    insertBefore: function(target) {\n      Sprint(target).before(this)\n      return this\n    },\n    is: function(selector, element) {\n      // element is undocumented, internal-use only.\n      // It gives better perfs as it prevents the creation of many objects in internal methods.\n      var set = element ? [element] : this.get()\n      var setLen = set.length\n\n      if (typeof selector == \"string\") {\n        for (var i = 0; i < setLen; i++) {\n          var el = set[i]\n          if (el.nodeType > 1) continue\n          if (el[matches](selector)) {\n            return true\n          }\n        }\n        return false\n      }\n      if (typeof selector == \"object\") {\n        // Sprint object or DOM element(s)\n        var obj\n        if (selector instanceof Init) {\n          obj = selector.get()\n        }\n        else {\n          obj = selector.length ? selector : [selector]\n        }\n        var objLen = obj.length\n        for (var i = 0; i < setLen; i++) {\n          for (var j = 0; j < objLen; j++) {\n            if (set[i] === obj[j]) {\n              return true\n            }\n          }\n        }\n        return false\n      }\n      if (typeof selector == \"function\") {\n        for (var i = 0; i < setLen; i++) {\n          if (selector.call(this, i, this)) {\n            return true\n          }\n        }\n        return false\n      }\n    },\n    last: function() {\n      return this.eq(-1)\n    },\n    map: function(callback, flattenArrays) {\n      /*\n       * flattenArrays (bool, true by default) is for internal usage only (although it might be\n       * interesting to document it publicly).\n       * Many methods rely on map(), thus being able to avoid the unnecessary Array.isArray() check\n       * on each element is a significant perf boost.\n       */\n      if (flattenArrays == null) {\n        flattenArrays = true\n      }\n\n      var dom = this.get()\n      var len = this.length\n      var values = []\n\n      for (var i = 0; i < len; i++) {\n        var el = dom[i]\n        var val = callback.call(el, i, el)\n\n        if (flattenArrays && Array.isArray(val)) {\n          var valLen = val.length\n          for (var j = 0; j < valLen; j++) {\n            values.push(val[j])\n          }\n          continue\n        }\n\n        values.push(val)\n      }\n\n      return Sprint(values)\n    },\n    next: function(selector) {\n      return selectImmediateAdjacentSibling(this, \"next\", selector)\n    },\n    nextAll: function(selector) {\n      return selectAdjacentSiblings(this, \"next\", selector)\n    },\n    nextUntil: function(selector, filter) {\n      return selectAdjacentSiblings(this, \"next\", filter, selector)\n    },\n    not: function(selector) {\n      var isFunc = typeof selector == \"function\"\n      var self = this\n      return this.map(function(i) {\n        if (isFunc) {\n          if (selector.call(this, i, this)) return\n        }\n        else {\n          if (self.is(selector, this)) return\n        }\n        return this\n      }, false)\n    },\n    off: function(events, handler) {\n      if (typeof events == \"object\") {\n        Object.keys(events).forEach(function(event) {\n          this.off(event, events[event])\n        }, this)\n        return this\n      }\n      if (events) {\n        events = events.trim().split(\" \")\n      }\n      return this.each(function() {\n        if (!getEvents(this)) return\n        if (events) {\n          events.forEach(removeMatchedEvents(this, handler))\n          return\n        }\n        Object.keys(getEvents(this)).forEach(removeEvent(this))\n      })\n    },\n    offset: function(coordinates) {\n      if (!coordinates) {\n        var el = this.get(0)\n        if (!el || el.nodeType > 1) return\n        var pos = el.getBoundingClientRect()\n        return {\n          top: pos.top,\n          left: pos.left\n        }\n      }\n      if (typeof coordinates == \"object\") {\n        return this.each(function() {\n          if (this.nodeType > 1) return\n          var $this = Sprint(this)\n          $this.css(\"position\") == \"static\"\n            ? $this.css(\"position\", \"relative\")\n            : $this.css({\n              top: 0,\n              left: 0\n            })\n          var pos = $this.offset()\n          $this.css({\n            top: coordinates.top - pos.top + \"px\",\n            left: coordinates.left - pos.left + \"px\"\n          })\n        })\n      }\n      if (typeof coordinates == \"function\") {\n        return this.each(function(i) {\n          var $this = Sprint(this)\n          var posObj = coordinates.call(this, i, $this.offset())\n          $this.offset(posObj)\n        })\n      }\n    },\n    offsetParent: function() {\n      var dom = []\n      this.each(function() {\n        if (this.nodeType > 1) return\n        var prt = this\n        while (prt != root) {\n          prt = prt.parentNode\n          var pos = getComputedStyle(prt).getPropertyValue(\"position\")\n          if (!pos) break\n          if (pos != \"static\") {\n            dom.push(prt)\n            return\n          }\n        }\n        dom.push(root)\n      })\n      return Sprint(dom)\n    },\n    on: function(events, handler) {\n      // .on(events, handler)\n      if (handler) {\n        var eventsArr = events.trim().split(\" \")\n\n        return this.each(function() {\n          if (!getEvents(this)) {\n            this.sprintEventListeners = {}\n          }\n          eventsArr.forEach(function(event) {\n            if (!getEvents(this)[event]) {\n              getEvents(this)[event] = []\n            }\n            getEvents(this)[event].push(handler)\n\n            // Ensure we add both the standard event (eg: \"click\") and the full event\n            // (eg: \"click.foo\") in order to be able to trigger them manually and programmatically.\n            this.addEventListener(event, handler)\n            if (!isNamespaced(event)) return\n            this.addEventListener(getEventFromNamespace(event), handler)\n          }, this)\n        })\n      }\n\n      // .on({ event: handler })\n      Object.keys(events).forEach(function(event) {\n        this.on(event, events[event])\n      }, this)\n      return this\n    },\n    parent: function(selector) {\n      return findAncestors.call(this, true, true, false, selector)\n    },\n    parents: function(selector) {\n      /* Differences with jQuery:\n       * 1. $(\"html\").parent() and $(\"html\").parents() return an empty set.\n       * 2. The returned set won't be in reverse order.\n       */\n      return findAncestors.call(this, true, false, false, selector)\n    },\n    position: function() {\n      var pos = {\n        first: this.offset(),\n        prt: this.parent().offset()\n      }\n      if (!pos.first) return\n      return {\n        top: pos.first.top - pos.prt.top,\n        left: pos.first.left - pos.prt.left\n      }\n    },\n    prop: function(propertyName, value) {\n      if (typeof propertyName == \"object\") {\n        var props = Object.keys(propertyName)\n        var propsLen = props.length\n        return this.each(function() {\n          for (var i = 0; i < propsLen; i++) {\n            var prop = props[i]\n            this[prop] = propertyName[prop]\n          }\n        })\n      }\n      if (value == null) {\n        var el = this.get(0)\n        if (!el) return\n        return el[propertyName]\n      }\n      var isFunc = typeof value == \"function\"\n      return this.each(function(i) {\n        this[propertyName] = isFunc ? value.call(this, i, this[propertyName]) : value\n      })\n    },\n    prepend: function() {\n      insertHTML.call(this, \"afterbegin\", arguments)\n      return this\n    },\n    prependTo: function(target) {\n      return Sprint(insertHTML.call(Sprint(target), \"afterbegin\", [this]))\n    },\n    prev: function(selector) {\n      return selectImmediateAdjacentSibling(this, \"previous\", selector)\n    },\n    prevAll: function(selector) {\n      return selectAdjacentSiblings(this, \"previous\", selector)\n    },\n    prevUntil: function(selector, filter) {\n      return selectAdjacentSiblings(this, \"previous\", filter, selector)\n    },\n    ready: function(handler) {\n      this.dom = [document]\n      this.length = 1\n      return this.on(\"DOMContentLoaded\", handler)\n    },\n    remove: function(selector) {\n      var self = this\n      return this.each(function() {\n        var parent = this.parentElement\n        if (!parent) return\n        if (!selector || self.is(selector, this)) {\n          parent.removeChild(this)\n        }\n      })\n    },\n    removeAttr: function(attributeName) {\n      if (attributeName) {\n        var attributes = attributeName.trim().split(\" \")\n        var attributesLen = attributes.length\n        this.each(function() {\n          if (this.nodeType > 1) return\n          for (var i = 0; i < attributesLen; i++) {\n            this.removeAttribute(attributes[i])\n          }\n        })\n      }\n      return this\n    },\n    removeClass: function(className) {\n      return manipulateClass.call(this, \"remove\", className)\n    },\n    removeProp: function(propertyName) {\n      return this.each(function() {\n        this[propertyName] = undefined\n      })\n    },\n    replaceAll: function(target) {\n      Sprint(target).replaceWith(this)\n      return this\n    },\n    replaceWith: function(newContent) {\n      if (typeof newContent == \"function\") {\n        return this.each(function(i) {\n          Sprint(this).replaceWith(newContent.call(this, i, this))\n        })\n      }\n      return this.before(newContent).remove()\n    },\n    scrollLeft: function(value) {\n      return scroll(this, \"scrollLeft\", value)\n    },\n    scrollTop: function(value) {\n      return scroll(this, \"scrollTop\", value)\n    },\n    siblings: function(selector) {\n      var siblings = []\n      var self = this\n      this.each(function(i, el) {\n        Sprint(this).parent().children().each(function() {\n          if (this == el || (selector && !self.is(selector, this))) return\n          siblings.push(this)\n        })\n      })\n      return Sprint(siblings)\n    },\n    size: function() {\n      return this.length\n    },\n    slice: function(start, end) {\n      var dom = this.get()\n      var range = []\n      var i = start >= 0 ? start : start + this.length\n      var l = this.length\n      if (end < 0) {\n        l += end\n      }\n      else if (end >= 0) {\n        l = end > this.length ? this.length : end\n      }\n      for (; i < l; i++) {\n        range.push(dom[i])\n      }\n      return Sprint(range)\n    },\n    text: function(content) {\n      if (content == null) {\n        var textContents = []\n        this.each(function() {\n          textContents.push(this.textContent)\n        })\n        return textContents.join(\"\")\n      }\n      var isFunc = typeof content == \"function\"\n      return this.each(function(i) {\n        this.textContent = isFunc ? content.call(this, i, this.textContent) : content\n      })\n    },\n    toggleClass: function(className, bool) {\n      return manipulateClass.call(this, \"toggle\", className, bool)\n    },\n    trigger: function(event) {\n      // IE polyfill\n      if (!window.CustomEvent || typeof window.CustomEvent !== \"function\") {\n        var CustomEvent = function(event, params) {\n          var evt\n          params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: undefined\n          }\n          evt = document.createEvent(\"CustomEvent\")\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\n          return evt\n        }\n        CustomEvent.prototype = window.Event.prototype\n        window.CustomEvent = CustomEvent\n      }\n      return this.each(function() {\n        getEventsToRemove(this, event).forEach(function(matchedEvent) {\n          this.dispatchEvent(new CustomEvent(matchedEvent, {\n            bubbles: true,\n            cancelable: true\n          }))\n        }, this)\n      })\n    },\n    unwrap: function() {\n      this.parent().each(function() {\n        if (this == document.body || this == root) return\n        Sprint(this).replaceWith(this.childNodes)\n      })\n      return this\n    },\n    val: function(value) {\n      if (value == null) {\n        var el = this.get(0)\n        if (!el) return\n        if (el.multiple) {\n          var values = []\n          this.first().children(\":checked\").each(function() {\n            values.push(this.value)\n          })\n          return values\n        }\n        return el.value\n      }\n      if (Array.isArray(value)) {\n        var self = this\n        return this.each(function() {\n          if (this.multiple) {\n            self.children().each(function() {\n              this.selected = inArray(this.value, value)\n            })\n            return\n          }\n          this.checked = inArray(this.value, value)\n        })\n      }\n      if (typeof value == \"function\") {\n        return this.each(function(i) {\n          Sprint(this).val(value.call(this, i, this.value))\n        })\n      }\n      return this.each(function() {\n        this.value = value\n      })\n    },\n    width: function(value) {\n      return getSetDimension(this, \"width\", value)\n    },\n    wrap: function(wrappingElement) {\n      return wrap.call(this, wrappingElement)\n    },\n    wrapAll: function(wrappingElement) {\n      return wrap.call(this, wrappingElement, \"all\")\n    },\n    wrapInner: function(wrappingElement) {\n      return wrap.call(this, wrappingElement, \"inner\")\n    }\n  }\n\n  // public\n\n  Sprint = function(selector, context) {\n    return new Init(selector, context)\n  }\n\n  module.exports = Sprint;\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/helpers/sprint.js\n ** module id = 15\n ** module chunks = 0\n **/","var asEmitter = require('../helpers/emitter');\n\nvar $ = require('../helpers/sprint');\n\n\nmodule.exports = function() {\n\tvar holder = $('<div>')\n\t.css({\n\t\tdisplay: 'inline'\n\t});\n\n\tvar backdrop = $('<div>')\n\t.css({\n\t\tdisplay: 'none',\n\t\tbackground: 'rgba(0, 0, 0, 0.25)',\n\t\tposition: 'fixed',\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center'\n\t})\n\t.on('click', function() {\n\t\tr.emit('backdrop-click');\n\t})\n\t.append(holder)\n\t.appendTo(document.body);\n\n\n\tvar r = asEmitter({\n\t\tholder: holder.get(0),\n\t\tsetOpen: function(open) {\n\t\t\tbackdrop.css({display: open ? 'flex' : 'none'});\n\t\t}\n\t});\n\n\treturn r;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/modal-tray.js\n ** module id = 16\n ** module chunks = 0\n **/","require('./style.css');\n\n\nvar dispatch = require('../../dispatcher').dispatch;\n\nvar iconSelectedAction = require('../../actions/self-icon-selected');\n\nvar iconTrayAction = require('../../actions/icon-tray');\n\nvar iconTrayStore = require('../../stores/icon-selection-tray');\n\nvar $ = require('../../helpers/sprint');\n\nvar createModalTray = require('../modal-tray');\n\n\nfunction IconTrayView() {\n\tvar self = this;\n\n\tvar tray = self.tray = createModalTray()\n\t.on('backdrop-click', function() {\n\t\tdispatch(iconTrayAction(false));\n\t});\n\n\t$(tray.holder)\n\t.addClass('icontray')\n\t.on('click', function(e) {\n\t\te.stopPropagation();\n\t});\n\n\tself._imgs = {};\n\n\tself._currentImg = null;\n\n\n\tself._setIcons(iconTrayStore.availableIconUrls);\n\n\t// TODO: Add a listener to the modal-tray and find out when it's been clicked, then emit a close action\n\n\ticonTrayStore.onChange(function(value, key) {\n\t\tswitch(key) {\n\t\tcase 'open':\n\t\t\tself.tray.setOpen(value);\n\t\t\tbreak;\n\n\t\tcase 'selectedIconUrl':\n\t\t\tself._setCurrentIcon(value);\n\t\t}\n\t});\n}\n\nIconTrayView.prototype._setIcons = function(urlList) {\n\tvar self = this;\n\n\tvar holder = $(self.tray.holder);\n\n\tholder.children().remove();\n\n\tself._imgs = {};\n\n\tvar iconElements = urlList.map(function(url) {\n\t\treturn self._imgs[url] =\n\t\t\t$('<img>')\n\t\t\t.attr({src: url})\n\t\t\t.on('click', function(e) {\n\t\t\t\tdispatch(iconSelectedAction(url));\n\n\t\t\t\t// Looks nicer with a slight delay before closing\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tdispatch(iconTrayAction(false));\n\t\t\t\t}, 50);\n\t\t\t});\n\t});\n\n\tholder.append(iconElements);\n};\n\nIconTrayView.prototype._setCurrentIcon = function(url) {\n\tvar currentImage = this._currentImg;\n\n\tif(currentImage) {\n\t\tcurrentImage.removeClass('selected');\n\t}\n\n\tthis._currentImg = currentImage = this._imgs[url];\n\n\tcurrentImage.addClass('selected');\n};\n\n\nmodule.exports = function() {\n\treturn new IconTrayView();\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/icontray/index.js\n ** module id = 17\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../node_modules/css-loader/index.js!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../node_modules/css-loader/index.js!./style.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/icontray/style.css\n ** module id = 18\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".icontray {\\n\\tmax-width: 400px;\\n\\ttext-align: center;\\n\\n\\tbackground: white;\\n}\\n\\n.icontray > img {\\n\\tdisplay: inline-block;\\n\\n\\tpadding: 10px;\\n\\n\\tcursor: pointer;\\n}\\n\\n.icontray > img.selected {\\n\\tbackground-color: #def;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./public/minimap/components/icontray/style.css\n ** module id = 19\n ** module chunks = 0\n **/","var TYPE = 0;\n\n\nmodule.exports = exports = function(iconUrl) {\n\treturn {type: TYPE, iconUrl: iconUrl};\n};\n\n\nexports.type = TYPE;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/actions/self-icon-selected.js\n ** module id = 20\n ** module chunks = 0\n **/","var TYPE = 1;\n\n\nmodule.exports = exports = function(open) {\n\treturn {type: TYPE, open: open};\n};\n\n\nexports.type = TYPE;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/actions/icon-tray.js\n ** module id = 21\n ** module chunks = 0\n **/","var dispatcher = require('../dispatcher');\n\nvar stateroom = require('./stateroom');\n\nvar ICON_TRAY_ACTION = require('../actions/icon-tray').type;\n\nvar ICON_SELECTED_ACTION = require('../actions/self-icon-selected').type;\n\nvar asMapStore = require('../helpers/mapstore');\n\nvar configStore = require('./config');\n\n\nvar availableIconUrls = [\n\t'alligator',\n\t'ant',\n\t'bat',\n\t'bear',\n\t'bee',\n\t'bird',\n\t'blackcock',\n\t'butterfly',\n\t'camel',\n\t'cat',\n\t'chicken',\n\t'cow',\n\t'deer',\n\t'dog',\n\t'dolphin',\n\t'dragon',\n\t'dragonfly',\n\t'duck',\n\t'eggs',\n\t'elephant',\n\t'emu',\n\t'fox',\n\t'frog',\n\t'giraffe',\n\t'hare',\n\t'kangaroo',\n\t'leopard',\n\t'lobster',\n\t'monkey',\n\t'moose',\n\t'oyster',\n\t'paw',\n\t'penguin',\n\t'pig',\n\t'seal',\n\t'sealion',\n\t'shark',\n\t'snail',\n\t'snake',\n\t'spider',\n\t'squirrel',\n\t'tiger',\n\t'turtle',\n\t'whale'\n].map(function(name) {return '/icons/' + name + '.png'});\n\n\n\nvar iconTray = asMapStore({\n\tavailableIconUrls: availableIconUrls\n});\n\niconTray.set('open', false);\n\n// Initialize\nvar selfIconUrl = configStore.get('selfIconUrl');\n\nif(!selfIconUrl) {\n\tvar iconIndex = Math.floor(Math.random() * availableIconUrls.length);\n\n\tselfIconUrl = availableIconUrls[iconIndex];\n}\n\nsetSelfIconUrl(selfIconUrl);\n\n\ndispatcher.register(ICON_TRAY_ACTION, function(payload) {\n\ticonTray.set('open', payload.open);\n});\n\ndispatcher.register(ICON_SELECTED_ACTION, function(payload) {\n\tsetSelfIconUrl(payload.iconUrl);\n});\n\n\nfunction setSelfIconUrl(url) {\n\tconfigStore.set('selfIconUrl', url);\n\n\tstateroom.set('i', url);\n\n\ticonTray.set('selectedIconUrl', url);\n}\n\n\nmodule.exports = iconTray;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/icon-selection-tray.js\n ** module id = 22\n ** module chunks = 0\n **/","var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nmodule.exports = function(a) {\n\tvar items = Object.create(null);\n\n\tvar addHandlers = [];\n\tvar removeHandlers = [];\n\n\tfunction emitAdd(value, key, object) {\n\t\taddHandlers.forEach(function(handler) {\n\t\t\thandler(value, key, object);\n\t\t});\n\t}\n\n\tfunction emitRemove(value, key, object) {\n\t\tremoveHandlers.forEach(function(handler) {\n\t\t\thandler(value, key, object);\n\t\t});\n\t}\n\n\n\ta.onChange = function(addFn, removeFn) {\n\t\tif(addHandlers.indexOf(addFn) !== -1) {\n\t\t\tthrow new Error('Same add callback registered twice: ' + addFn);\n\t\t}\n\n\t\taddHandlers.push(addFn);\n\n\t\tif(removeHandlers.indexOf(removeFn) !== -1) {\n\t\t\tthrow new Error('Same remove callback registered twice: ' + removeFn);\n\t\t}\n\n\t\tif(removeFn) {\n\t\t\tremoveHandlers.push(removeFn);\n\t\t}\n\n\t\t// Initialize\n\t\teach(items, addFn);\n\t};\n\n\ta.get = function(key) {\n\t\treturn items[key];\n\t};\n\n\ta.has = function(key) {\n\t\treturn hasOwnProperty.call(items, key)\n\t};\n\n\ta.set = function(key, value) {\n\t\tif(hasOwnProperty.call(items, key)) {\n\t\t\tvar removed = items[key];\n\n\t\t\tdelete items[key];\n\n\t\t\temitRemove(removed, key, items);\n\t\t}\n\n\t\titems[key] = value;\n\n\t\temitAdd(value, key, items);\n\t};\n\n\ta.delete = function(key) {\n\t\tvar removed = items[key];\n\n\t\tdelete items[key];\n\n\t\temitRemove(removed, key, items);\n\t};\n\n\ta.forEach = each.bind(null, items);\n\n\treturn a;\n};\n\n\nfunction each(o, fn) {\n\tObject.keys(o).forEach(function(key) {\n\t\tfn(o[key], key, o);\n\t});\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/helpers/mapstore.js\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = {\n\tget: function(key) {\n\t\treturn localStorage.getItem(key);\n\t},\n\tset: function(key, value) {\n\t\tlocalStorage.setItem(key, value);\n\t}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/config.js\n ** module id = 24\n ** module chunks = 0\n **/","var dispatch = require('../dispatcher').dispatch;\n\nvar trackingSelfAction = require('../actions/tracking-self');\n\nvar usersStore = require('../stores/users');\n\nvar mapStore = require('../stores/map');\n\nvar TrackButtonView = require('./trackbutton.js');\n\nvar QRButtonView = require('./qrbutton.js');\n\nvar IconButtonView = require('./iconbutton.js');\n\n\nfunction MinimapView(elementId) {\n\tvar trackButton = new TrackButtonView();\n\n\tvar qrButton = new QRButtonView();\n\n\tvar iconButton = new IconButtonView();\n\n\tvar mapElement = document.getElementById(elementId);\n\n\tvar map = new google.maps.Map(mapElement, {\n\t\tzoom: 20,\n\t\tcenter: {lat: 0, lng: 0},\n\t\tdisableDefaultUI: true,\n\t\t// TODO Can we enable the scale control but set a min-max?\n\t\tmapTypeControl: true\n\t});\n\n\tmap.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(iconButton.el);\n\tmap.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(qrButton.el);\n\tmap.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(trackButton.el);\n\n\n\t// Whenever the map is manually moved stop tracking our marker\n\tgoogle.maps.event.addListener(map, 'drag', function() {\n\t\tdispatch(trackingSelfAction(false));\n\t});\n\n\n\t// Keep the map markers in sync with the users in our room\n\tvar selfMarker = null;\n\n\tvar markers = {};\n\n\tusersStore.onChange(function(user) { // Add\n\t\tvar marker = markers[user.id] = new google.maps.Marker({\n\t\t\tposition: user.position,\n\t\t\tmap: map,\n\t\t\ttitle: user.id,\n\t\t\ticon: user.iconUrl\n\t\t});\n\n\t\tif(user.isSelf) {\n\t\t\tselfMarker = marker;\n\t\t}\n\n\t\tuser.onChange(function() {\n\t\t\tmarker.setPosition(user.position);\n\n\t\t\tif(user.isSelf && mapStore.trackingSelf) {\n\t\t\t\tmap.panTo(user.position);\n\t\t\t}\n\n\t\t\tmarker.setIcon(user.iconUrl);\n\t\t});\n\t}, function(user) { // Remove\n\t\tmarkers[user.id].setMap(null);\n\n\t\tdelete markers[user.id];\n\t});\n\n\tmapStore.onChange(function() {\n\t\tif(mapStore.trackingSelf && selfMarker) {\n\t\t\tmap.panTo(selfMarker.getPosition());\n\t\t}\n\t});\n}\n\n\nmodule.exports = MinimapView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/minimap.js\n ** module id = 25\n ** module chunks = 0\n **/","var TYPE = 2;\n// TODO: later come up with a better non-colliding way of making ids\n\nmodule.exports = exports = function(trackingSelf) {\n\treturn {type: TYPE, trackingSelf: trackingSelf};\n};\n\n\nexports.type = TYPE;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/actions/tracking-self.js\n ** module id = 26\n ** module chunks = 0\n **/","var stateroom = require('./stateroom');\n\nvar asMapStore = require('../helpers/mapstore');\n\nvar asStore = require('../helpers/store');\n\n\nvar users = asMapStore({});\n\n\nstateroom.on('join', function(memberId) {\n\tvar user = asStore({\n\t\tid: memberId,\n\t\tposition: {lat: 0, lng: 0}\n\t});\n\n\tif(memberId === stateroom.id) {\n\t\tuser.isSelf = true;\n\t}\n\n\tusers.set(memberId, user);\n});\n\nstateroom.on('set', function(memberId, key, value) {\n\tvar user = users.get(memberId);\n\n\t// When a member's position is updated, show it on the minimap\n\tswitch(key) {\n\t\tcase 'p': // Position\n\t\t\tuser.position = JSON.parse(value);\n\t\t\tbreak;\n\n\t\tcase 'i': // Icon\n\t\t\tuser.iconUrl = value;\n\t}\n\n\tuser.emitChange();\n});\n\nstateroom.on('part', function(memberId) {\n\tusers.delete(memberId);\n});\n\n\nmodule.exports = users;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/users.js\n ** module id = 27\n ** module chunks = 0\n **/","var dispatcher = require('../dispatcher');\n\nvar TRACKING_SELF_ACTION = require('../actions/tracking-self').type;\n\nvar asStore = require('../helpers/store');\n\n\nvar map = asStore({\n\ttrackingSelf: true\n});\n\n\ndispatcher.register(TRACKING_SELF_ACTION, function(payload) {\n\tmap.trackingSelf = payload.trackingSelf;\n\n\tmap.emitChange();\n});\n\n\nmodule.exports = map;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/stores/map.js\n ** module id = 28\n ** module chunks = 0\n **/","var dispatch = require('../dispatcher').dispatch;\n\nvar trackingSelfAction = require('../actions/tracking-self');\n\nvar mapStore = require('../stores/map');\n\nvar $ = require('../helpers/sprint');\n\n\nfunction TrackButtonView() {\n\tvar el = $('<button>')\n\t.css({\n\t\tdisplay: 'none',\n\t\twidth: '50px',\n\t\theight: '50px'\n\t})\n\t.html('<img title=\"Track Self\" alt=\"Crosshair icon\" src=\"/images/crosshair.png\">')\n\t.on('click', function() {\n\t\tdispatch(trackingSelfAction(true));\n\t});\n\n\tmapStore.onChange(function() {\n\t\tel.css({display: mapStore.trackingSelf ? 'none' : 'block'});\n\t});\n\n\tthis.el = el.get(0);\n}\n\n\nmodule.exports = TrackButtonView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/trackbutton.js\n ** module id = 29\n ** module chunks = 0\n **/","var dispatch = require('../dispatcher').dispatch;\n\nvar qrTrayAction = require('../actions/qr-tray');\n\nvar $ = require('../helpers/sprint');\n\n\nfunction QRButtonView(dispatcher) {\n\tvar el = $('<button>')\n\t.css({\n\t\tdisplay: 'block',\n\t\twidth: '50px',\n\t\theight: '50px'\n\t})\n\t.html('<img title=\"QR Link\" alt=\"QR code icon\" src=\"/images/qrcode.png\">')\n\t.on('click', function() {\n\t\tdispatch(qrTrayAction(true, location.href));\n\t});\n\n\tthis.el = el.get(0);\n}\n\n\nmodule.exports = QRButtonView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/qrbutton.js\n ** module id = 30\n ** module chunks = 0\n **/","var dispatch = require('../dispatcher').dispatch;\n\nvar iconTrayAction = require('../actions/icon-tray');\n\nvar $ = require('../helpers/sprint');\n\n\nfunction IconButtonView() {\n\tvar el = $('<button>')\n\t.css({\n\t\tdisplay: 'block',\n\t\twidth: '50px',\n\t\theight: '50px'\n\t})\n\t.html('<img title=\"Change Marker\" alt=\"Map marker icon\" src=\"/images/marker.png\">')\n\t.on('click', function() {\n\t\tdispatch(iconTrayAction(true));\n\t});\n\n\tthis.el = el.get(0);\n}\n\n\nmodule.exports = IconButtonView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/minimap/components/iconbutton.js\n ** module id = 31\n ** module chunks = 0\n **/"],"sourceRoot":""}